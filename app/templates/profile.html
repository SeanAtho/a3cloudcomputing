{% extends "layout.html" %}
{% block title %}{{ user.username }}'s Profile{% endblock %}

{% block content %}
<div class="container mt-5 user-profile">
    <h2>{{ user.username }}'s Profile</h2>
    <ul class="list-unstyled user-details">
        <li><strong>Email:</strong> {{ user.email }}</li>
        <li><strong>Member since:</strong> {{ user.created_at.strftime('%B %d, %Y') }}</li>
    </ul>

    {% if user == current_user %}
    <a href="{{ url_for('main.edit_profile') }}" class="btn btn-info">Edit Profile</a>
    {% endif %}
    
    <h3 class="mt-4">Recent Posts</h3>
    {% if user.posts %}
    <div class="user-posts">
        {% for post in user.posts %}
        <div class="post mb-3 p-3 border rounded">
            <p>{{ post.body }}</p>
            <small class="text-muted">Posted on {{ post.timestamp.strftime('%B %d, %Y at %H:%M') }}</small>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>No posts to display.</p>
    {% endif %}
</div>
{% endblock %}
